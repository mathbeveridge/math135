<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Topic 2 RStudio Quick Referrence | MATH 135: AMC I</title>
  <meta name="description" content="This is the class activity manual for MATH 135 at Macalester College." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Topic 2 RStudio Quick Referrence | MATH 135: AMC I" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the class activity manual for MATH 135 at Macalester College." />
  <meta name="github-repo" content="mathbeveridge/math135_f21" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Topic 2 RStudio Quick Referrence | MATH 135: AMC I" />
  
  <meta name="twitter:description" content="This is the class activity manual for MATH 135 at Macalester College." />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-studio-primer.html"/>
<link rel="next" href="functions.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #008000; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #008080; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */
</style>

<link rel="stylesheet" href="m135style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href = "./">MATH 135: AMC I</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="r-studio-primer.html"><a href="r-studio-primer.html"><i class="fa fa-check"></i><b>1</b> R Studio Primer</a><ul>
<li class="chapter" data-level="1.1" data-path="r-studio-primer.html"><a href="r-studio-primer.html#getting-oriented"><i class="fa fa-check"></i><b>1.1</b> Getting Oriented</a><ul>
<li class="chapter" data-level="1.1.1" data-path="r-studio-primer.html"><a href="r-studio-primer.html#first-login"><i class="fa fa-check"></i><b>1.1.1</b> First login</a></li>
<li class="chapter" data-level="1.1.2" data-path="r-studio-primer.html"><a href="r-studio-primer.html#the-rstudio-window"><i class="fa fa-check"></i><b>1.1.2</b> The RStudio window</a></li>
<li class="chapter" data-level="1.1.3" data-path="r-studio-primer.html"><a href="r-studio-primer.html#packages"><i class="fa fa-check"></i><b>1.1.3</b> Packages</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="r-studio-primer.html"><a href="r-studio-primer.html#rmarkdown"><i class="fa fa-check"></i><b>1.2</b> RMarkdown</a></li>
<li class="chapter" data-level="1.3" data-path="r-studio-primer.html"><a href="r-studio-primer.html#calculations-in-rstudio"><i class="fa fa-check"></i><b>1.3</b> Calculations in RStudio</a><ul>
<li class="chapter" data-level="1.3.1" data-path="r-studio-primer.html"><a href="r-studio-primer.html#basic-commands"><i class="fa fa-check"></i><b>1.3.1</b> Basic Commands</a></li>
<li class="chapter" data-level="1.3.2" data-path="r-studio-primer.html"><a href="r-studio-primer.html#variables"><i class="fa fa-check"></i><b>1.3.2</b> Variables</a></li>
<li class="chapter" data-level="1.3.3" data-path="r-studio-primer.html"><a href="r-studio-primer.html#lists-and-sequences"><i class="fa fa-check"></i><b>1.3.3</b> Lists and sequences</a></li>
<li class="chapter" data-level="1.3.4" data-path="r-studio-primer.html"><a href="r-studio-primer.html#making-functions"><i class="fa fa-check"></i><b>1.3.4</b> Making functions</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="r-studio-primer.html"><a href="r-studio-primer.html#data"><i class="fa fa-check"></i><b>1.4</b> Data</a><ul>
<li class="chapter" data-level="1.4.1" data-path="r-studio-primer.html"><a href="r-studio-primer.html#importing-data-from-rstudiomosaic"><i class="fa fa-check"></i><b>1.4.1</b> Importing data from RStudio/mosaic</a></li>
<li class="chapter" data-level="1.4.2" data-path="r-studio-primer.html"><a href="r-studio-primer.html#importing-.csv-files"><i class="fa fa-check"></i><b>1.4.2</b> Importing .csv files</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="r-studio-primer.html"><a href="r-studio-primer.html#plots"><i class="fa fa-check"></i><b>1.5</b> Plots</a><ul>
<li class="chapter" data-level="1.5.1" data-path="r-studio-primer.html"><a href="r-studio-primer.html#single-variable-plots"><i class="fa fa-check"></i><b>1.5.1</b> Single variable plots</a></li>
<li class="chapter" data-level="1.5.2" data-path="r-studio-primer.html"><a href="r-studio-primer.html#multivariable-plots"><i class="fa fa-check"></i><b>1.5.2</b> Multivariable plots</a></li>
<li class="chapter" data-level="1.5.3" data-path="r-studio-primer.html"><a href="r-studio-primer.html#plotting-data"><i class="fa fa-check"></i><b>1.5.3</b> Plotting data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rstudio-quick-referrence.html"><a href="rstudio-quick-referrence.html"><i class="fa fa-check"></i><b>2</b> RStudio Quick Referrence</a><ul>
<li class="chapter" data-level="2.1" data-path="rstudio-quick-referrence.html"><a href="rstudio-quick-referrence.html#common-functions"><i class="fa fa-check"></i><b>2.1</b> Common Functions</a></li>
<li class="chapter" data-level="2.2" data-path="rstudio-quick-referrence.html"><a href="rstudio-quick-referrence.html#defining-your-own-function"><i class="fa fa-check"></i><b>2.2</b> Defining your own function</a></li>
<li class="chapter" data-level="2.3" data-path="rstudio-quick-referrence.html"><a href="rstudio-quick-referrence.html#creating-lists-of-data"><i class="fa fa-check"></i><b>2.3</b> Creating Lists of Data</a></li>
<li class="chapter" data-level="2.4" data-path="rstudio-quick-referrence.html"><a href="rstudio-quick-referrence.html#plotting-data-and-plotting-functions"><i class="fa fa-check"></i><b>2.4</b> Plotting Data and Plotting Functions</a></li>
<li class="chapter" data-level="2.5" data-path="rstudio-quick-referrence.html"><a href="rstudio-quick-referrence.html#fitting-a-function-to-data"><i class="fa fa-check"></i><b>2.5</b> Fitting a Function to Data</a><ul>
<li class="chapter" data-level="2.5.1" data-path="rstudio-quick-referrence.html"><a href="rstudio-quick-referrence.html#fitting-a-power-function-to-data"><i class="fa fa-check"></i><b>2.5.1</b> Fitting a Power Function to Data</a></li>
<li class="chapter" data-level="2.5.2" data-path="rstudio-quick-referrence.html"><a href="rstudio-quick-referrence.html#fitting-a-model-by-specifying-starting-values"><i class="fa fa-check"></i><b>2.5.2</b> Fitting a Model by Specifying Starting Values</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="rstudio-quick-referrence.html"><a href="rstudio-quick-referrence.html#plotting-surfaces-in-3d"><i class="fa fa-check"></i><b>2.6</b> Plotting Surfaces in 3D</a></li>
<li class="chapter" data-level="2.7" data-path="rstudio-quick-referrence.html"><a href="rstudio-quick-referrence.html#troubleshooting"><i class="fa fa-check"></i><b>2.7</b> Troubleshooting</a></li>
</ul></li>
<li class="part"><span><b>I Functions</b></span></li>
<li class="chapter" data-level="3" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>3</b> Functions</a><ul>
<li class="chapter" data-level="3.1" data-path="functions.html"><a href="functions.html#steps-of-the-modeling-cycle"><i class="fa fa-check"></i><b>3.1</b> Steps of the Modeling Cycle</a></li>
<li class="chapter" data-level="3.2" data-path="functions.html"><a href="functions.html#goals"><i class="fa fa-check"></i><b>3.2</b> Goals</a></li>
<li class="chapter" data-level="3.3" data-path="functions.html"><a href="functions.html#tasks"><i class="fa fa-check"></i><b>3.3</b> Tasks</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="linear-functions.html"><a href="linear-functions.html"><i class="fa fa-check"></i><b>4</b> Linear Functions</a><ul>
<li class="chapter" data-level="4.1" data-path="linear-functions.html"><a href="linear-functions.html#goals-1"><i class="fa fa-check"></i><b>4.1</b> Goals</a></li>
<li class="chapter" data-level="4.2" data-path="linear-functions.html"><a href="linear-functions.html#tasks-1"><i class="fa fa-check"></i><b>4.2</b> Tasks</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="intro-to-rstudio.html"><a href="intro-to-rstudio.html"><i class="fa fa-check"></i><b>5</b> Intro to RStudio</a><ul>
<li class="chapter" data-level="5.1" data-path="intro-to-rstudio.html"><a href="intro-to-rstudio.html#getting-started"><i class="fa fa-check"></i><b>5.1</b> Getting Started</a></li>
<li class="chapter" data-level="5.2" data-path="intro-to-rstudio.html"><a href="intro-to-rstudio.html#r-markdown-files"><i class="fa fa-check"></i><b>5.2</b> R Markdown files</a><ul>
<li class="chapter" data-level="5.2.1" data-path="intro-to-rstudio.html"><a href="intro-to-rstudio.html#formatting-regular-text"><i class="fa fa-check"></i><b>5.2.1</b> Formatting Regular Text</a></li>
<li class="chapter" data-level="5.2.2" data-path="intro-to-rstudio.html"><a href="intro-to-rstudio.html#code-chunks"><i class="fa fa-check"></i><b>5.2.2</b> Code Chunks</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="intro-to-rstudio.html"><a href="intro-to-rstudio.html#writing-code"><i class="fa fa-check"></i><b>5.3</b> Writing Code</a><ul>
<li class="chapter" data-level="5.3.1" data-path="intro-to-rstudio.html"><a href="intro-to-rstudio.html#basic-calculations"><i class="fa fa-check"></i><b>5.3.1</b> Basic Calculations</a></li>
<li class="chapter" data-level="5.3.2" data-path="intro-to-rstudio.html"><a href="intro-to-rstudio.html#variables-lists-and-sequences"><i class="fa fa-check"></i><b>5.3.2</b> Variables, Lists and Sequences</a></li>
<li class="chapter" data-level="5.3.3" data-path="intro-to-rstudio.html"><a href="intro-to-rstudio.html#functions-1"><i class="fa fa-check"></i><b>5.3.3</b> Functions</a></li>
<li class="chapter" data-level="5.3.4" data-path="intro-to-rstudio.html"><a href="intro-to-rstudio.html#plotting"><i class="fa fa-check"></i><b>5.3.4</b> Plotting</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="intro-to-rstudio.html"><a href="intro-to-rstudio.html#troubleshooting-1"><i class="fa fa-check"></i><b>5.4</b> Troubleshooting</a><ul>
<li class="chapter" data-level="5.4.1" data-path="intro-to-rstudio.html"><a href="intro-to-rstudio.html#you-try-4"><i class="fa fa-check"></i><b>5.4.1</b> You Try</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="exponential-and-logarithmic-functions.html"><a href="exponential-and-logarithmic-functions.html"><i class="fa fa-check"></i><b>6</b> Exponential and Logarithmic Functions</a><ul>
<li class="chapter" data-level="6.1" data-path="exponential-and-logarithmic-functions.html"><a href="exponential-and-logarithmic-functions.html#goals-2"><i class="fa fa-check"></i><b>6.1</b> Goals</a></li>
<li class="chapter" data-level="6.2" data-path="exponential-and-logarithmic-functions.html"><a href="exponential-and-logarithmic-functions.html#tasks-2"><i class="fa fa-check"></i><b>6.2</b> Tasks</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="power-functions.html"><a href="power-functions.html"><i class="fa fa-check"></i><b>7</b> Power Functions</a><ul>
<li class="chapter" data-level="7.1" data-path="power-functions.html"><a href="power-functions.html#tasks-3"><i class="fa fa-check"></i><b>7.1</b> Tasks</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="periodic-functions.html"><a href="periodic-functions.html"><i class="fa fa-check"></i><b>8</b> Periodic Functions</a><ul>
<li class="chapter" data-level="8.1" data-path="periodic-functions.html"><a href="periodic-functions.html#tasks-4"><i class="fa fa-check"></i><b>8.1</b> Tasks</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="units-and-dimension-review.html"><a href="units-and-dimension-review.html"><i class="fa fa-check"></i><b>9</b> Units and Dimension Review</a><ul>
<li class="chapter" data-level="9.1" data-path="units-and-dimension-review.html"><a href="units-and-dimension-review.html#review-problems"><i class="fa fa-check"></i><b>9.1</b> Review Problems</a><ul>
<li class="chapter" data-level="9.1.1" data-path="units-and-dimension-review.html"><a href="units-and-dimension-review.html#units"><i class="fa fa-check"></i><b>9.1.1</b> Units</a></li>
<li class="chapter" data-level="9.1.2" data-path="units-and-dimension-review.html"><a href="units-and-dimension-review.html#dimensional-analysis"><i class="fa fa-check"></i><b>9.1.2</b> Dimensional Analysis</a></li>
<li class="chapter" data-level="9.1.3" data-path="units-and-dimension-review.html"><a href="units-and-dimension-review.html#fermi-estimation"><i class="fa fa-check"></i><b>9.1.3</b> Fermi Estimation</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="units-and-dimension-review.html"><a href="units-and-dimension-review.html#solutions"><i class="fa fa-check"></i><b>9.2</b> Solutions</a><ul>
<li class="chapter" data-level="9.2.1" data-path="units-and-dimension-review.html"><a href="units-and-dimension-review.html#units-1"><i class="fa fa-check"></i><b>9.2.1</b> Units</a></li>
<li class="chapter" data-level="9.2.2" data-path="units-and-dimension-review.html"><a href="units-and-dimension-review.html#dimensional-analysis-1"><i class="fa fa-check"></i><b>9.2.2</b> Dimensional Analysis</a></li>
<li class="chapter" data-level="9.2.3" data-path="units-and-dimension-review.html"><a href="units-and-dimension-review.html#fermi-estimation-1"><i class="fa fa-check"></i><b>9.2.3</b> Fermi Estimation</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">MATH 135: AMC I</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="rstudio-quick-referrence" class="section level1">
<h1><span class="header-section-number">Topic 2</span> RStudio Quick Referrence</h1>
<div id="common-functions" class="section level2">
<h2><span class="header-section-number">2.1</span> Common Functions</h2>
<table>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th>function</th>
<th>R command</th>
<th>comments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(x^2\)</span></td>
<td><code>x^2</code></td>
<td></td>
</tr>
<tr class="even">
<td><span class="math inline">\(4x^2 -7x + 3\)</span></td>
<td><code>4*x^2 - 7*x + 3</code></td>
<td>You must <strong>always</strong> include the <code>*</code> when you multiply</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\sqrt{x}\)</span></td>
<td><code>sqrt(x)</code> or <code>x^(1/2)</code></td>
<td></td>
</tr>
<tr class="even">
<td><span class="math inline">\(\sqrt[3]{x}\)</span></td>
<td><code>x^(1/3)</code></td>
<td></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\sin(x)\)</span></td>
<td><code>sin(x)</code></td>
<td></td>
</tr>
<tr class="even">
<td><span class="math inline">\(\cos(x)\)</span></td>
<td><code>cos(x)</code></td>
<td></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(e^x\)</span></td>
<td><code>exp(x)</code></td>
<td><code>exp</code> is a <strong>function</strong> (like <code>sin</code> and <code>cos</code>), so you do NOT need a <code>^</code></td>
</tr>
<tr class="even">
<td><span class="math inline">\(\mbox{ln}(x)\)</span></td>
<td><code>log(x)</code></td>
<td>RStudio uses the natural logarithm as the default</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\log(x) = \log_{10}(x)\)</span></td>
<td><code>log10(x)</code></td>
<td>Humans default to “log base 10.” RStudio does not!</td>
</tr>
<tr class="even">
<td><span class="math inline">\(\log_{b}(x)\)</span></td>
<td><code>log(x,b)</code></td>
<td>You can use any number <span class="math inline">\(b\)</span> as the base for your logarithm</td>
</tr>
</tbody>
</table>
</div>
<div id="defining-your-own-function" class="section level2">
<h2><span class="header-section-number">2.2</span> Defining your own function</h2>
<p>The <code>makeFun</code> command is part of the mosaic package.</p>
<table>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th>desired function</th>
<th>R command</th>
<th>comments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(f(x) = x^2 +5x + 6\)</span></td>
<td><code>f = makeFun(x^2 + 5*x + 6 ~ x)</code></td>
<td>remember your <code>*</code> signs!</td>
</tr>
<tr class="even">
<td><span class="math inline">\(g(x) = \sin^2(x) - \frac{1}{2}\)</span></td>
<td><code>g = makeFun(sin(x)^2 - 1/2 ~ x)</code></td>
<td>note the placement of <code>^2</code></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(P(t) = 5 e^{.25 t}\)</span></td>
<td><code>P = makeFun(5 * exp(0.25 * t) ~ t)</code></td>
<td><code>exp</code> does not need a <code>^</code></td>
</tr>
<tr class="even">
<td><span class="math inline">\(Q(t) = 12.38 (1.041)^t\)</span></td>
<td><code>Q = makeFun(12.38 * (1.041)^t ~ t)</code></td>
<td></td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ul>
<li>The general syntax is <code>makeFun( OUTPUT ~ INPUT )</code> where the OUTPUT is a function of the INPUT.</li>
<li>You must <strong>assign this to a variable</strong> so that you can use it later. So your command must <strong>start with</strong> <code>f = ...</code> so that you get a function named <code>f</code>.</li>
<li>The variable (<code>x</code> or <code>t</code>, etc) that appears in the OUTPUT <strong>must match</strong> the INPUT variable that appears after the tilde <code>~</code>. The the command <code>makeFun(x^2 ~ t)</code> won’t work because the <code>x^2</code> is not a function of <code>t</code>.</li>
</ul>
</div>
<div id="creating-lists-of-data" class="section level2">
<h2><span class="header-section-number">2.3</span> Creating Lists of Data</h2>
<p>Use <code>c()</code> to “combine” some values into a list. Assign the list to a variable so that you can use it later.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="rstudio-quick-referrence.html#cb45-1"></a>my_primes =<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">11</span>, <span class="dv">13</span>, <span class="dv">17</span>, <span class="dv">19</span>, <span class="dv">23</span>, <span class="dv">29</span>)</span>
<span id="cb45-2"><a href="rstudio-quick-referrence.html#cb45-2"></a>my_primes</span></code></pre></div>
<pre><code>##  [1]  2  3  5  7 11 13 17 19 23 29</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="rstudio-quick-referrence.html#cb47-1"></a>my_data =<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">-2</span>, <span class="dv">7</span>, <span class="dv">3</span>, <span class="dv">-10</span>, <span class="dv">15</span>)</span>
<span id="cb47-2"><a href="rstudio-quick-referrence.html#cb47-2"></a>my_data</span></code></pre></div>
<pre><code>## [1]   5  -2   7   3 -10  15</code></pre>
<p>Use <code>seq()</code> to generate a sequential list of values in a specified range. The optional third parameter tells RStudio to increment by that value instead of incrementing by 1.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="rstudio-quick-referrence.html#cb49-1"></a>my_seq1 =<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span>,<span class="dv">10</span>)</span>
<span id="cb49-2"><a href="rstudio-quick-referrence.html#cb49-2"></a>my_seq1</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="rstudio-quick-referrence.html#cb51-1"></a>my_seq2 =<span class="st"> </span><span class="kw">seq</span>(<span class="dv">5</span>, <span class="dv">6</span>, <span class="fl">0.25</span>)</span>
<span id="cb51-2"><a href="rstudio-quick-referrence.html#cb51-2"></a>my_seq2</span></code></pre></div>
<pre><code>## [1] 5.00 5.25 5.50 5.75 6.00</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="rstudio-quick-referrence.html#cb53-1"></a>my_seq3 =<span class="st"> </span><span class="kw">seq</span>(<span class="dv">5</span>, <span class="dv">6</span>, <span class="fl">0.1</span>)</span>
<span id="cb53-2"><a href="rstudio-quick-referrence.html#cb53-2"></a>my_seq3</span></code></pre></div>
<pre><code>##  [1] 5.0 5.1 5.2 5.3 5.4 5.5 5.6 5.7 5.8 5.9 6.0</code></pre>
</div>
<div id="plotting-data-and-plotting-functions" class="section level2">
<h2><span class="header-section-number">2.4</span> Plotting Data and Plotting Functions</h2>
<p>Use <code>plotPoints</code> to plot a list of <span class="math inline">\(y\)</span>-axis data versus a list of <span class="math inline">\(x\)</span>-axis data. Separate these lists with a tilde <code>~</code>.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="rstudio-quick-referrence.html#cb55-1"></a>X =<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)</span>
<span id="cb55-2"><a href="rstudio-quick-referrence.html#cb55-2"></a>Y =<span class="st"> </span>X<span class="op">^</span><span class="dv">2</span></span>
<span id="cb55-3"><a href="rstudio-quick-referrence.html#cb55-3"></a><span class="kw">plotPoints</span>(Y <span class="op">~</span><span class="st"> </span>X)</span></code></pre></div>
<p><img src="math135_handbook_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="rstudio-quick-referrence.html#cb56-1"></a>x_data =<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">8</span>,<span class="dv">13</span>)</span>
<span id="cb56-2"><a href="rstudio-quick-referrence.html#cb56-2"></a>y_data =<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">8</span>,<span class="dv">4</span>,<span class="dv">2</span>)</span>
<span id="cb56-3"><a href="rstudio-quick-referrence.html#cb56-3"></a><span class="kw">plotPoints</span>(y_data <span class="op">~</span><span class="st"> </span>x_data)</span></code></pre></div>
<p><img src="math135_handbook_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
<p>Use <code>plotFun</code> to plot a function.</p>
<ul>
<li>As with <code>plotPoints</code>, we use a tilde <code>~</code> to separate the output variable (the function) from the input variable.</li>
<li>The optional <code>xlim</code> argument specifies the domain for the plot.</li>
</ul>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="rstudio-quick-referrence.html#cb57-1"></a><span class="kw">plotFun</span>(<span class="kw">sin</span>(x) <span class="op">~</span><span class="st"> </span>x)</span></code></pre></div>
<p><img src="math135_handbook_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="rstudio-quick-referrence.html#cb58-1"></a><span class="kw">plotFun</span>(<span class="kw">sin</span>(x) <span class="op">~</span><span class="st"> </span>x, <span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">2</span><span class="op">*</span>pi))</span></code></pre></div>
<p><img src="math135_handbook_files/figure-html/unnamed-chunk-30-2.png" width="672" /></p>
<p>We can layer one plot on top of another by using the <code>add=TRUE</code> argument.</p>
<ul>
<li>You only need to specify the <code>xlim</code> for the <strong>first plot</strong> because the second one is added to the first.</li>
<li>It’s helpful to change the color for subsequent plots. Use the argument <code>col="red"</code> using any color name you like (RStudio knows a lot of colors!)</li>
</ul>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="rstudio-quick-referrence.html#cb59-1"></a><span class="kw">plotFun</span>(<span class="dv">2</span> <span class="op">*</span><span class="st"> </span><span class="kw">sin</span>(x) <span class="op">~</span><span class="st"> </span>x, <span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">2</span><span class="op">*</span>pi))</span></code></pre></div>
<p><img src="math135_handbook_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="rstudio-quick-referrence.html#cb60-1"></a><span class="kw">plotFun</span>(<span class="kw">cos</span>(<span class="dv">3</span><span class="op">*</span>x) <span class="op">~</span><span class="st"> </span>x, <span class="dt">add=</span><span class="ot">TRUE</span>, <span class="dt">col=</span><span class="st">&#39;green&#39;</span>)</span></code></pre></div>
<p><img src="math135_handbook_files/figure-html/unnamed-chunk-31-2.png" width="672" /></p>
<p>We can label the axes using <code>xlab</code> and <code>ylab</code>. When you are layering two plots, you must specify these labels in the first function that you plot!</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="rstudio-quick-referrence.html#cb61-1"></a><span class="kw">plotFun</span>(<span class="dv">2</span> <span class="op">*</span><span class="st"> </span><span class="kw">sin</span>(x) <span class="op">~</span><span class="st"> </span>x, <span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">2</span><span class="op">*</span>pi), <span class="dt">xlab=</span><span class="st">&#39;time&#39;</span>, <span class="dt">ylab=</span><span class="st">&#39;displacement&#39;</span>)</span></code></pre></div>
<p><img src="math135_handbook_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="rstudio-quick-referrence.html#cb62-1"></a><span class="kw">plotFun</span>(<span class="kw">cos</span>(<span class="dv">3</span><span class="op">*</span>x) <span class="op">~</span><span class="st"> </span>x, <span class="dt">add=</span><span class="ot">TRUE</span>, <span class="dt">col=</span><span class="st">&#39;green&#39;</span>)</span></code></pre></div>
<p><img src="math135_handbook_files/figure-html/unnamed-chunk-32-2.png" width="672" /></p>
<p>We can also combine plots of data and functions using <code>add=TRUE</code>.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="rstudio-quick-referrence.html#cb63-1"></a>time_data =<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">50</span>, <span class="dv">10</span>)</span>
<span id="cb63-2"><a href="rstudio-quick-referrence.html#cb63-2"></a>pop_data =<span class="st"> </span><span class="kw">c</span>(<span class="fl">6.82</span>, <span class="fl">9.63</span>, <span class="fl">14.3</span>, <span class="fl">20.48</span>, <span class="fl">28.94</span>, <span class="fl">42.25</span>)</span>
<span id="cb63-3"><a href="rstudio-quick-referrence.html#cb63-3"></a></span>
<span id="cb63-4"><a href="rstudio-quick-referrence.html#cb63-4"></a><span class="kw">plotPoints</span>(pop_data <span class="op">~</span><span class="st"> </span>time_data, <span class="dt">xlab=</span><span class="st">&#39;years since 1950&#39;</span>, <span class="dt">ylab=</span><span class="st">&#39;population (millions)&#39;</span>)</span></code></pre></div>
<p><img src="math135_handbook_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="rstudio-quick-referrence.html#cb64-1"></a>P =<span class="st"> </span><span class="kw">makeFun</span>( <span class="fl">6.82</span> <span class="op">*</span><span class="st"> </span>(<span class="fl">1.037</span>)<span class="op">^</span>t <span class="op">~</span><span class="st"> </span>t)</span>
<span id="cb64-2"><a href="rstudio-quick-referrence.html#cb64-2"></a></span>
<span id="cb64-3"><a href="rstudio-quick-referrence.html#cb64-3"></a><span class="kw">plotFun</span>(<span class="kw">P</span>(t) <span class="op">~</span><span class="st"> </span>t, <span class="dt">add=</span><span class="ot">TRUE</span>, <span class="dt">col=</span><span class="st">&#39;orange&#39;</span>)</span></code></pre></div>
<p><img src="math135_handbook_files/figure-html/unnamed-chunk-33-2.png" width="672" /></p>
</div>
<div id="fitting-a-function-to-data" class="section level2">
<h2><span class="header-section-number">2.5</span> Fitting a Function to Data</h2>
<p>The <code>fitModel</code> command is part of the mosaic package. Here is how you would fit a linear model to data</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="rstudio-quick-referrence.html#cb65-1"></a>xdata =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)</span>
<span id="cb65-2"><a href="rstudio-quick-referrence.html#cb65-2"></a>ydata =<span class="st"> </span><span class="kw">c</span>(<span class="fl">5.3</span>, <span class="fl">7.7</span>, <span class="fl">10.1</span>, <span class="fl">11.3</span>, <span class="fl">12.0</span>    )</span>
<span id="cb65-3"><a href="rstudio-quick-referrence.html#cb65-3"></a></span>
<span id="cb65-4"><a href="rstudio-quick-referrence.html#cb65-4"></a><span class="kw">fitModel</span>(ydata  <span class="op">~</span><span class="st"> </span>A<span class="op">*</span><span class="st"> </span>xdata  <span class="op">+</span><span class="st"> </span>B)</span></code></pre></div>
<pre><code>## function (xdata, ..., transformation = function (x) 
## x) 
## return(transformation(predict(model, newdata = data.frame(xdata = xdata), 
##     ...)))
## &lt;environment: 0x7ffeb5528800&gt;
## attr(,&quot;coefficients&quot;)
##    A    B 
## 1.70 4.18 
## attr(,&quot;class&quot;)
## [1] &quot;nlsfunction&quot; &quot;function&quot;</code></pre>
<p>This output says that the best fitting linear function has slope <span class="math inline">\(A=1.70\)</span> and <span class="math inline">\(y\)</span>-intercept <span class="math inline">\(B=4.18\)</span>. So let’s create the corresponding linear function and plot it with the data.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="rstudio-quick-referrence.html#cb67-1"></a>f =<span class="st"> </span><span class="kw">makeFun</span>(<span class="fl">1.70</span> <span class="op">*</span><span class="st">  </span>x <span class="op">+</span><span class="st"> </span><span class="fl">4.18</span> <span class="op">~</span><span class="st"> </span>x)</span>
<span id="cb67-2"><a href="rstudio-quick-referrence.html#cb67-2"></a></span>
<span id="cb67-3"><a href="rstudio-quick-referrence.html#cb67-3"></a><span class="kw">plotPoints</span>(ydata <span class="op">~</span><span class="st"> </span>xdata)</span></code></pre></div>
<p><img src="math135_handbook_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="rstudio-quick-referrence.html#cb68-1"></a><span class="kw">plotFun</span>(<span class="kw">f</span>(x) <span class="op">~</span><span class="st"> </span>x,  <span class="dt">add=</span><span class="ot">TRUE</span>, <span class="dt">col=</span><span class="st">&#39;orange&#39;</span>)</span></code></pre></div>
<p><img src="math135_handbook_files/figure-html/unnamed-chunk-35-2.png" width="672" /></p>
<div id="fitting-a-power-function-to-data" class="section level3">
<h3><span class="header-section-number">2.5.1</span> Fitting a Power Function to Data</h3>
<p>Here are the steps to fit <code>xdata</code> and <code>ydata</code> to a power function <span class="math inline">\(f(x) = c x^p\)</span>.</p>
<ol style="list-style-type: decimal">
<li>Take the log of both <code>xdata</code> and <code>ydata</code></li>
<li>Fit a linear function <span class="math inline">\(y = A x + B\)</span> to the resulting data</li>
<li>The original constants are <code>p = A</code> and <code>c = exp(B)</code></li>
</ol>
<p>Here is an example</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="rstudio-quick-referrence.html#cb69-1"></a>f =<span class="st"> </span><span class="kw">makeFun</span>(<span class="fl">4.3</span> <span class="op">*</span><span class="st"> </span>x<span class="op">^</span>(<span class="fl">1.7</span>)<span class="op">~</span>x)</span>
<span id="cb69-2"><a href="rstudio-quick-referrence.html#cb69-2"></a></span>
<span id="cb69-3"><a href="rstudio-quick-referrence.html#cb69-3"></a>xdata =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>)</span>
<span id="cb69-4"><a href="rstudio-quick-referrence.html#cb69-4"></a>ydata =<span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">33</span>, <span class="dv">65</span>, <span class="dv">110</span>, <span class="dv">180</span>)</span>
<span id="cb69-5"><a href="rstudio-quick-referrence.html#cb69-5"></a></span>
<span id="cb69-6"><a href="rstudio-quick-referrence.html#cb69-6"></a>logxdata =<span class="st"> </span><span class="kw">log</span>(xdata)</span>
<span id="cb69-7"><a href="rstudio-quick-referrence.html#cb69-7"></a>logydata =<span class="st"> </span><span class="kw">log</span>(ydata)</span>
<span id="cb69-8"><a href="rstudio-quick-referrence.html#cb69-8"></a></span>
<span id="cb69-9"><a href="rstudio-quick-referrence.html#cb69-9"></a><span class="kw">fitModel</span>(logydata <span class="op">~</span><span class="st"> </span>A <span class="op">*</span><span class="st"> </span>logxdata <span class="op">+</span><span class="st"> </span>B)</span></code></pre></div>
<pre><code>## function (logxdata, ..., transformation = function (x) 
## x) 
## return(transformation(predict(model, newdata = data.frame(logxdata = logxdata), 
##     ...)))
## &lt;environment: 0x7ffee0550da0&gt;
## attr(,&quot;coefficients&quot;)
##        A        B 
## 1.449432 1.915983 
## attr(,&quot;class&quot;)
## [1] &quot;nlsfunction&quot; &quot;function&quot;</code></pre>
<p>This tells us that <span class="math inline">\(A=1.45\)</span> and <span class="math inline">\(B=1.92\)</span>. We solve for <span class="math inline">\(c\)</span> and plot the function with the data</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="rstudio-quick-referrence.html#cb71-1"></a>p =<span class="st"> </span><span class="fl">1.45</span></span>
<span id="cb71-2"><a href="rstudio-quick-referrence.html#cb71-2"></a>p</span></code></pre></div>
<pre><code>## [1] 1.45</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="rstudio-quick-referrence.html#cb73-1"></a>c =<span class="st"> </span><span class="kw">exp</span>(<span class="fl">1.92</span>)</span>
<span id="cb73-2"><a href="rstudio-quick-referrence.html#cb73-2"></a>c</span></code></pre></div>
<pre><code>## [1] 6.820958</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="rstudio-quick-referrence.html#cb75-1"></a><span class="kw">plotPoints</span>(ydata <span class="op">~</span><span class="st"> </span>xdata)</span></code></pre></div>
<p><img src="math135_handbook_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="rstudio-quick-referrence.html#cb76-1"></a><span class="kw">plotFun</span>(<span class="fl">6.82</span> <span class="op">*</span><span class="st"> </span>x<span class="op">^</span><span class="fl">1.45</span> <span class="op">~</span><span class="st"> </span>x, <span class="dt">add=</span><span class="ot">TRUE</span>, <span class="dt">col=</span><span class="st">&#39;orange&#39;</span>)</span></code></pre></div>
<p><img src="math135_handbook_files/figure-html/unnamed-chunk-37-2.png" width="672" /></p>
</div>
<div id="fitting-a-model-by-specifying-starting-values" class="section level3">
<h3><span class="header-section-number">2.5.2</span> Fitting a Model by Specifying Starting Values</h3>
<p>Sometimes <code>fitModel</code> fails to find a good model for the data. Here are two things that can happen.</p>
<ul>
<li>The command <code>fitModel</code> fails,complaining about a “singular gradient.” This means that <code>fitModel</code> picked a bad starting point, and can’t figure out how to improve it’s initial guess.</li>
<li>The command <code>fitModel</code> does find a function, but when we plot it, we realize that it’s not what we want.</li>
</ul>
<p>Here is an example of <code>fitModel</code> returning a function that we don’t like. Let’s load in the `utilities.csv’ data set and look at the first few rows.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="rstudio-quick-referrence.html#cb77-1"></a>utilitydata =<span class="st"> </span>fetch<span class="op">::</span><span class="kw">fetchData</span>(<span class="st">&quot;utilities.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Retrieving from http://www.mosaic-web.org/go/datasets/utilities.csv</code></pre>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="rstudio-quick-referrence.html#cb79-1"></a><span class="kw">head</span>(utilitydata)</span></code></pre></div>
<pre><code>##   month day year temp  kwh ccf thermsPerDay dur totalbill gasbill elecbill notes
## 1     2  24 2005   29  557 166          6.0  28    213.71  166.63    47.08      
## 2     3  29 2005   31  772 179          5.5  33    239.85  117.05    62.80      
## 3     1  27 2005   15  891 224          7.5  30    294.96  223.92    71.04      
## 4    11  23 2004   43  860  82          2.8  29    160.26   88.51    71.75      
## 5    12  28 2004   23 1160 208          6.0  35    317.47  224.18    93.29      
## 6     9  26 2004   71  922  15          0.5  32    117.46   21.25    96.21</code></pre>
<p>Now let’s plot temperature versus month</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="rstudio-quick-referrence.html#cb81-1"></a><span class="kw">plotPoints</span>(temp <span class="op">~</span><span class="st"> </span>month, <span class="dt">data=</span>utilitydata)</span></code></pre></div>
<p><img src="math135_handbook_files/figure-html/unnamed-chunk-39-1.png" width="672" /></p>
<p>We have ploted monthly temperature data for multiple years. Let’s try to fit a periodic function.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="rstudio-quick-referrence.html#cb82-1"></a>M =<span class="st"> </span><span class="kw">fitModel</span>(temp <span class="op">~</span><span class="st"> </span>A <span class="op">*</span><span class="st"> </span><span class="kw">sin</span>(w<span class="op">*</span>(month <span class="op">+</span><span class="st"> </span>p))<span class="op">+</span>C, <span class="dt">data=</span>utilitydata)</span>
<span id="cb82-2"><a href="rstudio-quick-referrence.html#cb82-2"></a><span class="kw">coef</span>(M)</span></code></pre></div>
<pre><code>##         A         w         p         C 
## -28.67993  -6.78753  56.15894  47.20908</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="rstudio-quick-referrence.html#cb84-1"></a>f =<span class="st"> </span><span class="kw">makeFun</span>(<span class="op">-</span><span class="fl">28.7</span> <span class="op">*</span><span class="st"> </span><span class="kw">sin</span>(<span class="op">-</span><span class="fl">6.8</span><span class="op">*</span>(t <span class="op">+</span><span class="st"> </span><span class="fl">56.2</span>))<span class="op">+</span><span class="fl">47.2</span> <span class="op">~</span><span class="st"> </span>t)</span>
<span id="cb84-2"><a href="rstudio-quick-referrence.html#cb84-2"></a><span class="kw">plotFun</span>(<span class="kw">f</span>(t)<span class="op">~</span>t, <span class="dt">add=</span><span class="ot">TRUE</span>, <span class="dt">col=</span><span class="st">&#39;red&#39;</span>)</span></code></pre></div>
<p><img src="math135_handbook_files/figure-html/unnamed-chunk-40-1.png" width="672" /></p>
<p>This is not what we wanted! It looks like <code>fitModel</code> was confused by the multiple data points for each month. So the frequency <code>w</code> is completely wrong! We can correct this by specifying an initial guess for <code>w</code>. We think that the period should be 12 months, so we want to start with <code>w=2*pi/12</code>.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="rstudio-quick-referrence.html#cb85-1"></a>M =<span class="st"> </span><span class="kw">fitModel</span>(temp <span class="op">~</span><span class="st"> </span>A <span class="op">*</span><span class="st"> </span><span class="kw">sin</span>(w<span class="op">*</span>(month <span class="op">+</span><span class="st"> </span>p))<span class="op">+</span>C, <span class="dt">data=</span>utilitydata, <span class="dt">start=</span><span class="kw">list</span>(<span class="dt">w=</span><span class="dv">2</span><span class="op">*</span>pi<span class="op">/</span><span class="dv">12</span>))</span>
<span id="cb85-2"><a href="rstudio-quick-referrence.html#cb85-2"></a><span class="kw">coef</span>(M)</span></code></pre></div>
<pre><code>##           w           A           p           C 
##   0.5043435 -28.6799747 -22.8387987  47.2090049</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="rstudio-quick-referrence.html#cb87-1"></a>f =<span class="st"> </span><span class="kw">makeFun</span>(<span class="op">-</span><span class="fl">28.7</span> <span class="op">*</span><span class="st"> </span><span class="kw">sin</span>(<span class="fl">0.5</span><span class="op">*</span>(t <span class="fl">-22.8</span>))<span class="op">+</span><span class="fl">47.2</span> <span class="op">~</span><span class="st"> </span>t)</span>
<span id="cb87-2"><a href="rstudio-quick-referrence.html#cb87-2"></a><span class="kw">plotFun</span>(<span class="kw">f</span>(t)<span class="op">~</span>t, <span class="dt">add=</span><span class="ot">TRUE</span>, <span class="dt">col=</span><span class="st">&#39;orange&#39;</span>)</span></code></pre></div>
<p><img src="math135_handbook_files/figure-html/unnamed-chunk-41-1.png" width="672" /></p>
<p>That looks much better!</p>
</div>
</div>
<div id="plotting-surfaces-in-3d" class="section level2">
<h2><span class="header-section-number">2.6</span> Plotting Surfaces in 3D</h2>
<p>We plot functions <span class="math inline">\(z = f(x,y)\)</span> using the <code>plotFun()</code> command. We specify the independent variables with the syntax <code>~ x&amp;y</code>. By default, RStudio will create a <strong>contour plot</strong> of this function and include <strong>shading</strong> to help visualize the values of the function.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="rstudio-quick-referrence.html#cb88-1"></a>f =<span class="st"> </span><span class="kw">makeFun</span>(x<span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span>y<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> </span>x<span class="op">&amp;</span>y)</span>
<span id="cb88-2"><a href="rstudio-quick-referrence.html#cb88-2"></a></span>
<span id="cb88-3"><a href="rstudio-quick-referrence.html#cb88-3"></a><span class="kw">plotFun</span>(<span class="kw">f</span>(x,y) <span class="op">~</span><span class="st"> </span>x<span class="op">&amp;</span>y)</span></code></pre></div>
<p><img src="math135_handbook_files/figure-html/unnamed-chunk-42-1.png" width="672" /></p>
<p>You can add more contours using the <code>levels</code> parameter, and turn off the shading with the <code>filled</code> parameter.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="rstudio-quick-referrence.html#cb89-1"></a><span class="kw">plotFun</span>(<span class="kw">f</span>(x,y) <span class="op">~</span><span class="st"> </span>x<span class="op">&amp;</span>y, <span class="dt">levels =</span> <span class="kw">seq</span>(<span class="op">-</span><span class="dv">1</span> ,<span class="dv">1</span>, <span class="fl">.2</span>), <span class="dt">filled =</span> <span class="ot">FALSE</span>)</span></code></pre></div>
<p><img src="math135_handbook_files/figure-html/unnamed-chunk-43-1.png" width="672" /></p>
<p>You can change the plot range using <code>xlim</code> and <code>ylim</code>.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="rstudio-quick-referrence.html#cb90-1"></a><span class="kw">plotFun</span>(<span class="kw">f</span>(x,y) <span class="op">~</span><span class="st"> </span>x<span class="op">&amp;</span>y, <span class="dt">xlim=</span><span class="kw">c</span>(<span class="op">-</span><span class="dv">20</span>,<span class="dv">20</span>), <span class="dt">ylim=</span><span class="kw">c</span>(<span class="op">-</span><span class="dv">20</span>,<span class="dv">20</span>))</span></code></pre></div>
<p><img src="math135_handbook_files/figure-html/unnamed-chunk-44-1.png" width="672" /></p>
<p>You can create a 3D plot by setting <code>surface=TRUE</code>.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="rstudio-quick-referrence.html#cb91-1"></a><span class="kw">plotFun</span>(<span class="kw">f</span>(x,y) <span class="op">~</span><span class="st"> </span>x<span class="op">&amp;</span>y, <span class="dt">xlim=</span><span class="kw">c</span>(<span class="op">-</span><span class="dv">20</span>,<span class="dv">20</span>), <span class="dt">ylim=</span><span class="kw">c</span>(<span class="op">-</span><span class="dv">20</span>,<span class="dv">20</span>), <span class="dt">surface=</span><span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="math135_handbook_files/figure-html/unnamed-chunk-45-1.png" width="672" /></p>
</div>
<div id="troubleshooting" class="section level2">
<h2><span class="header-section-number">2.7</span> Troubleshooting</h2>
<p>Without fail, you will run into problems. Sometimes RStudio will give you helpful error messages, but sometimes they are obtuse. Here’s a list of some common errors and what might be wrong:</p>
<ul>
<li><p><em>Nothing ran, all I got was a plus sign…</em> You probably forgot some parentheses. Try the following:</p>
<ul>
<li>Enter a parenthesis on that line to see if this closes it out.</li>
<li>Press the Escape key to get to a new line.</li>
</ul></li>
<li><p><em>Unexpected symbol in…</em> You may have forgotten a multiplication sign or otherwise gave RStudio a symbol it cannot parse. Check your line of code again to see if you have all your symbols.</p></li>
<li><p><em>Object not found…</em> You may not have defined that variable (or function) yet. Check your environment tab to see if it has the object you’re looking for (or if you’ve called it something different than you remember!). You also may be trying to use something from a data set that you have not included as a parameter. See if you need to add in the parameter <code>data=....</code></p></li>
<li><p><em>Could not find function…</em> RStudio doesn’t know what function you’re using. Check your capitalization and that you have the right packages installed.</p></li>
<li><p><em>… number of items to replace is not a multiple of replacement length …</em> Your input variable doesn’t match the name variable you used in the output when you called <code>makeFun</code>. Maybe you used <code>x</code> on one side of the tilde <code>~</code> and <code>t</code> on the other side?</p></li>
<li><p><em>Argument “name” is missing, with no default…</em>
You’re probably trying to take a derivative or antiderivative without the mosaicCalc package. Go back to the packages section of the introduction for how to fix this.</p></li>
<li><p><em>I can’t find my data!</em> You may have fetched it but did not give it a name. Go back to your fetch command and make sure you have assigned it a variable.</p></li>
</ul>

</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="r-studio-primer.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="functions.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
